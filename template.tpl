___TERMS_OF_SERVICE___

By creating or modifying this file you agree to Google Tag Manager's Community
Template Gallery Developer Terms of Service available at
https://developers.google.com/tag-manager/gallery-tos (or such other URL as
Google may provide), as modified from time to time.


___INFO___

{
  "type": "TAG",
  "id": "cvt_temp_public_id",
  "version": 1,
  "securityGroups": [],
  "displayName": "Data Tag - Taggrs",
  "categories": [
    "ANALYTICS",
    "CONVERSIONS"
  ],
  "brand": {
    "id": "github.com_taggrs",
    "displayName": "taggrs",
    "thumbnail": "ddata:image/png;base64,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"
  },
  "description": "With this tag you can send data to your Server Container.",
  "containerContexts": [
    "WEB"
  ]
}


___TEMPLATE_PARAMETERS___

[
  {
    "type": "RADIO",
    "name": "event_type",
    "displayName": "Event Name",
    "radioItems": [
      {
        "value": "standard",
        "displayValue": "Standard",
        "subParams": [
          {
            "type": "SELECT",
            "name": "event_name_standard",
            "selectItems": [
              {
                "value": "page_view",
                "displayValue": "Page View"
              },
              {
                "value": "add_payment_info",
                "displayValue": "Add Payment Info"
              },
              {
                "value": "add_to_cart",
                "displayValue": "Add To Cart"
              },
              {
                "value": "add_to_wishlist",
                "displayValue": "Add To Wishlist"
              },
              {
                "value": "begin_checkout",
                "displayValue": "Begin Checkout"
              },
              {
                "value": "contact",
                "displayValue": "Contact"
              },
              {
                "value": "customize_product",
                "displayValue": "Customize Product"
              },
              {
                "value": "donate",
                "displayValue": "Donate"
              },
              {
                "value": "exception",
                "displayValue": "Exception"
              },
              {
                "value": "find_location",
                "displayValue": "Find Location"
              },
              {
                "value": "generate_lead",
                "displayValue": "Generate Lead"
              },
              {
                "value": "join_group",
                "displayValue": "Join Group"
              },
              {
                "value": "login",
                "displayValue": "Login"
              },
              {
                "value": "purchase",
                "displayValue": "Purchase"
              },
              {
                "value": "refund",
                "displayValue": "Refund"
              },
              {
                "value": "schedule",
                "displayValue": "Schedule"
              },
              {
                "value": "search",
                "displayValue": "Search"
              },
              {
                "value": "select_content",
                "displayValue": "Select Content"
              },
              {
                "value": "share",
                "displayValue": "Share"
              },
              {
                "value": "sign_up",
                "displayValue": "Sign Up"
              },
              {
                "value": "start_trial",
                "displayValue": "Start Trial"
              },
              {
                "value": "submit_application",
                "displayValue": "Submit Application"
              },
              {
                "value": "subscribe",
                "displayValue": "Subscribe"
              },
              {
                "value": "view_item",
                "displayValue": "View Item"
              },
              {
                "value": "view_item_list",
                "displayValue": "View Item List"
              },
              {
                "value": "view_search_results",
                "displayValue": "View Search Results"
              }
            ],
            "simpleValueType": true,
            "defaultValue": "page_view",
            "alwaysInSummary": true
          }
        ]
      },
      {
        "value": "custom",
        "displayValue": "Custom",
        "subParams": [
          {
            "type": "TEXT",
            "name": "event_name_custom",
            "simpleValueType": true
          }
        ]
      }
    ],
    "simpleValueType": true
  },
  {
    "type": "TEXT",
    "name": "gtm_server_domain",
    "displayName": "GTM Server Side URL",
    "simpleValueType": true,
    "help": "Domain to where the tag will send requests. For example https://gtm.example.com",
    "valueValidators": [
      {
        "type": "NON_EMPTY"
      },
      {
        "type": "REGEX",
        "args": [
          "^(https://).*"
        ],
        "errorMessage": "URL must start with https://"
      }
    ],
    "alwaysInSummary": true
  },
  {
    "type": "CHECKBOX",
    "name": "add_data_layer",
    "checkboxText": "Send all from DataLayer",
    "simpleValueType": true,
    "help": "Adds all Data Layer values to the request"
  },
  {
    "type": "CHECKBOX",
    "name": "add_common",
    "checkboxText": "Send common data",
    "simpleValueType": true,
    "help": "Adds to request page_location, page_path, page_hostname, page_referrer, page_title, page_encoding, screen_resolution, viewport_size",
    "defaultValue": true
  },
  {
    "type": "GROUP",
    "name": "custom",
    "displayName": "Event Data",
    "groupStyle": "ZIPPY_CLOSED",
    "subParams": [
      {
        "type": "SIMPLE_TABLE",
        "name": "custom_data",
        "displayName": "",
        "simpleTableColumns": [
          {
            "defaultValue": "",
            "displayName": "Name",
            "name": "name",
            "type": "TEXT",
            "valueValidators": [
              {
                "type": "NON_EMPTY"
              }
            ]
          },
          {
            "defaultValue": "",
            "displayName": "Value",
            "name": "value",
            "type": "TEXT"
          },
          {
            "defaultValue": "none",
            "displayName": "Transformation",
            "name": "transformation",
            "type": "SELECT",
            "selectItems": [
              {
                "value": "none",
                "displayValue": "None"
              },
              {
                "value": "trim",
                "displayValue": "Trim"
              },
              {
                "value": "to_lower_case",
                "displayValue": "To lower case"
              },
              {
                "value": "md5",
                "displayValue": "MD5 hash"
              },
              {
                "value": "base64",
                "displayValue": "Base64"
              },
              {
                "value": "sha256base64",
                "displayValue": "SHA-256 digest (Base64 encoded)"
              },
              {
                "value": "sha256hex",
                "displayValue": "SHA-256 digest (HEX encoded)"
              }
            ],
            "valueValidators": [
              {
                "type": "NON_EMPTY"
              }
            ]
          },
          {
            "defaultValue": "none",
            "displayName": "Store",
            "name": "store",
            "type": "SELECT",
            "selectItems": [
              {
                "value": "none",
                "displayValue": "None"
              },
              {
                "value": "all",
                "displayValue": "Everywhere"
              },
              {
                "value": "localStorage",
                "displayValue": "Local Storage"
              },
              {
                "value": "cookies",
                "displayValue": "Cookies"
              }
            ],
            "valueValidators": [
              {
                "type": "NON_EMPTY"
              }
            ]
          }
        ]
      }
    ]
  },
  {
    "type": "GROUP",
    "name": "user",
    "displayName": "User Data",
    "groupStyle": "ZIPPY_CLOSED",
    "subParams": [
      {
        "type": "SIMPLE_TABLE",
        "name": "user_data",
        "displayName": "",
        "simpleTableColumns": [
          {
            "defaultValue": "email_address",
            "displayName": "Name",
            "name": "name",
            "type": "SELECT",
            "valueValidators": [
              {
                "type": "NON_EMPTY"
              }
            ],
            "isUnique": true,
            "selectItems": [
              {
                "value": "email_address",
                "displayValue": "Email Address"
              },
              {
                "value": "phone_number",
                "displayValue": "Phone Number"
              },
              {
                "value": "first_name",
                "displayValue": "First Name"
              },
              {
                "value": "last_name",
                "displayValue": "Last Name"
              },
              {
                "value": "gender",
                "displayValue": "Gender"
              },
              {
                "value": "db",
                "displayValue": "Date of Birth"
              },
              {
                "value": "street",
                "displayValue": "Street"
              },
              {
                "value": "city",
                "displayValue": "City"
              },
              {
                "value": "region",
                "displayValue": "Region"
              },
              {
                "value": "postal_code",
                "displayValue": "Postal Code"
              },
              {
                "value": "country",
                "displayValue": "Country"
              },
              {
                "value": "user_id",
                "displayValue": "User ID"
              }
            ]
          },
          {
            "defaultValue": "",
            "displayName": "Value",
            "name": "value",
            "type": "TEXT"
          },
          {
            "defaultValue": "none",
            "displayName": "Transformation",
            "name": "transformation",
            "type": "SELECT",
            "selectItems": [
              {
                "value": "none",
                "displayValue": "None"
              },
              {
                "value": "trim",
                "displayValue": "Trim"
              },
              {
                "value": "to_lower_case",
                "displayValue": "To lower case"
              },
              {
                "value": "md5",
                "displayValue": "MD5 hash"
              },
              {
                "value": "base64",
                "displayValue": "Base64"
              },
              {
                "value": "sha256base64",
                "displayValue": "SHA-256 digest (Base64 encoded)"
              },
              {
                "value": "sha256hex",
                "displayValue": "SHA-256 digest (HEX encoded)"
              }
            ],
            "valueValidators": [
              {
                "type": "NON_EMPTY"
              }
            ]
          },
          {
            "defaultValue": "none",
            "displayName": "Store",
            "name": "store",
            "type": "SELECT",
            "selectItems": [
              {
                "value": "none",
                "displayValue": "None"
              },
              {
                "value": "all",
                "displayValue": "Everywhere"
              },
              {
                "value": "localStorage",
                "displayValue": "Local Storage"
              },
              {
                "value": "cookies",
                "displayValue": "Cookies"
              }
            ],
            "valueValidators": [
              {
                "type": "NON_EMPTY"
              }
            ]
          }
        ]
      }
    ]
  },
  {
    "type": "GROUP",
    "name": "settings",
    "displayName": "Settings",
    "groupStyle": "ZIPPY_CLOSED",
    "subParams": [
      {
        "type": "SELECT",
        "name": "request_type",
        "displayName": "Request type",
        "macrosInSelect": false,
        "selectItems": [
          {
            "value": "auto",
            "displayValue": "Auto"
          },
          {
            "value": "post",
            "displayValue": "POST"
          },
          {
            "value": "get",
            "displayValue": "GET"
          }
        ],
        "simpleValueType": true,
        "defaultValue": "auto",
        "valueValidators": [
          {
            "type": "NON_EMPTY"
          }
        ],
        "help": "We highly recommend using \u003cb\u003eAuto\u003c/b\u003e. Change this only if you know what you do."
      },
      {
        "type": "TEXT",
        "name": "request_path",
        "displayName": "Path",
        "simpleValueType": true,
        "defaultValue": "/data",
        "help": "The path used for sending requests to the GTM Server Side container. If you use Data client on GTM Server Side Path should be \u003cb\u003e/data\u003c/b\u003e",
        "valueValidators": [
          {
            "type": "NON_EMPTY"
          }
        ]
      },
      {
        "type": "TEXT",
        "name": "protocol_version",
        "displayName": "Protocol version",
        "simpleValueType": true,
        "defaultValue": 2,
        "help": "Protocol version that used for sending a request to Data client on GTM Server Side.",
        "valueValidators": [
          {
            "type": "NON_EMPTY"
          }
        ]
      },
      {
        "type": "CHECKBOX",
        "name": "addGaParameters",
        "checkboxText": "Add GA4 specific parameters",
        "simpleValueType": true,
        "help": "Adds specific parameters for the server GA4 tag.",
        "defaultValue": false,
        "enablingConditions": [
          {
            "paramName": "request_type",
            "paramValue": "post",
            "type": "EQUALS"
          }
        ]
      },
      {
        "type": "TEXT",
        "name": "gaId",
        "displayName": "Measurement ID",
        "simpleValueType": true,
        "enablingConditions": [
          {
            "paramName": "addGaParameters",
            "paramValue": true,
            "type": "EQUALS"
          }
        ],
        "valueHint": "G-ABCD123456",
        "valueValidators": [
          {
            "type": "NON_EMPTY"
          }
        ],
        "help": "Enter the Measurement ID of your GA4 property."
      },
      {
        "type": "CHECKBOX",
        "name": "dataLayerEventPush",
        "checkboxText": "Push event to DataLayer after tag receives a response",
        "simpleValueType": true,
        "help": "Helpful in obtaining data from the server.",
        "defaultValue": false
      },
      {
        "type": "TEXT",
        "name": "dataLayerEventName",
        "displayName": "DataLayer Event Name",
        "simpleValueType": true,
        "enablingConditions": [
          {
            "paramName": "dataLayerEventPush",
            "paramValue": true,
            "type": "EQUALS"
          }
        ],
        "valueValidators": [
          {
            "type": "NON_EMPTY"
          }
        ],
        "valueHint": "page_view_response"
      },
      {
        "type": "TEXT",
        "name": "dataLayerVariableName",
        "displayName": "DataLayer Object Name",
        "simpleValueType": true,
        "enablingConditions": [
          {
            "paramName": "dataLayerEventPush",
            "paramValue": true,
            "type": "EQUALS"
          }
        ],
        "valueValidators": [
          {
            "type": "NON_EMPTY"
          }
        ],
        "defaultValue": "dataLayer",
        "help": "Use dataLayer by default. Modify only if you renamed dataLayer object name."
      }
    ]
  }
]


___SANDBOXED_JS_FOR_WEB_TEMPLATE___

const copyFromDataLayer = require('copyFromDataLayer');
const JSON = require('JSON');
const getUrl = require('getUrl');
const getReferrerUrl = require('getReferrerUrl');
const readTitle = require('readTitle');
const injectScript = require('injectScript');
const callInWindow = require('callInWindow');
const makeNumber = require('makeNumber');
const readCharacterSet = require('readCharacterSet');
const localStorage = require('localStorage');
const sendPixel = require('sendPixel');
const encodeUriComponent = require('encodeUriComponent');
const toBase64 = require('toBase64');
const makeString = require('makeString');
const setCookie = require('setCookie');
const getCookieValues = require('getCookieValues');
const getContainerVersion = require('getContainerVersion');

let pageLocation = getUrl();

if (pageLocation && pageLocation.lastIndexOf('https://gtm-msr.appspot.com/', 0) === 0) {
    data.gtmOnSuccess();

    return;
}

let requestType = determinateRequestType();

if (requestType === 'post') {
    const dataTagScriptUrl = 'https://app.taggrs.io/cdn/script/v5.js';
    injectScript(dataTagScriptUrl, sendPostRequest, data.gtmOnFailure, dataTagScriptUrl);
} else {
    sendGetRequest();
}

function sendPostRequest() {
    let eventData = {};

    eventData = addCommonDataForPostRequest(data, eventData);
    eventData = addRequiredDataForPostRequest(data, eventData);
    eventData = addGaRequiredData(data, eventData);

    if (data.dataLayerEventPush) {
        callInWindow('dataTagSendData', eventData, buildEndpoint()+'?v=' + eventData.v + '&event_name=' + encodeUriComponent(eventData.event_name), data.dataLayerEventName, data.dataLayerVariableName);
    } else {
        callInWindow('dataTagSendData', eventData, buildEndpoint()+'?v=' + eventData.v + '&event_name=' + encodeUriComponent(eventData.event_name));
    }

    data.gtmOnSuccess();
}

function sendGetRequest() {
    sendPixel(addDataForGetRequest(data, buildEndpoint()), data.gtmOnSuccess, data.gtmOnFailure);
}

function buildEndpoint() {
    return data.gtm_server_domain + data.request_path;
}

function addRequiredDataForPostRequest(data, eventData) {
    eventData.event_name = getEventName(data);
    eventData.v = makeNumber(data.protocol_version);

    let customData = getCustomData(data, true);

    for (let key in customData) {
        eventData[customData[key].name] = customData[key].value;
    }

    return eventData;
}

function addGaRequiredData(data, eventData) {
    if (data.addGaParameters && data.gaId) {
        eventData['x-ga-measurement_id'] = data.gaId;
        eventData['x-ga-page_id'] = copyFromDataLayer('gtm.start');
        eventData['x-ga-mp2-richsstsse'] = '';
        eventData['x-ga-mp2-seg'] = 1;
        eventData['x-ga-request_count'] = 1;
        eventData['x-ga-protocol_version'] = 2;
        eventData.v = 2;
    }

    return eventData;
}

function addDataForGetRequest(data, url) {
    let eventData = {};
    url += '?v=' + data.protocol_version + '&event_name=' + encodeUriComponent(getEventName(data));

    if (data.add_common) {
        eventData = addCommonData(data, eventData);
    }

    let customData = getCustomData(data, false);

    if (customData.length) {
        for (let customDataKey in customData) {
            eventData[customData[customDataKey].name] = customData[customDataKey].value;
        }
    }

    if (data.request_type === 'auto') {
        return url + '&dtdc=' + encodeUriComponent(toBase64(JSON.stringify(eventData)));
    }

    for (let eventDataKey in eventData) {
        url += '&' + eventDataKey + '=' + (eventData[eventDataKey] ? encodeUriComponent(eventData[eventDataKey]) : '');
    }

    return url;
}

function addCommonDataForPostRequest(data, eventData) {
    if (data.add_common || data.add_data_layer) {
        const dataTagData = callInWindow('dataTagGetData', getContainerVersion()['containerId']);

        if (data.add_data_layer && dataTagData.dataModel) {
            for (let dataKey in dataTagData.dataModel) {
                eventData[dataKey] = dataTagData.dataModel[dataKey];
            }
        }

        if (data.add_common) {
            eventData = addCommonData(data, eventData);
            eventData.screen_resolution = dataTagData.screen.width + 'x' + dataTagData.screen.height;
            eventData.viewport_size = dataTagData.innerWidth + 'x' + dataTagData.innerHeight;
        }
    }

    return eventData;
}

function addCommonData(data, eventData) {
    eventData.page_location = getUrl();
    eventData.page_hostname = getUrl('host');
    eventData.page_referrer = getReferrerUrl();
    eventData.page_title = readTitle();
    eventData.page_encoding = readCharacterSet();

    return eventData;
}

function getEventName(data) {
    const eventName = 'page_view';

    if (data.event_type === 'standard') {
        return data.event_name_standard ? data.event_name_standard : eventName;
    }

    if (data.event_type === 'custom') {
        return data.event_name_custom ? data.event_name_custom : eventName;
    }

    return eventName;
}

function getCustomData(data, dtagLoaded) {
    let dataToStore = [];
    let customData = [];

    if (data.custom_data && data.custom_data.length) {
        customData = data.custom_data;
    }

    if (data.user_data && data.user_data.length) {
        for (let userDataKey in data.user_data) {
            customData.push(data.user_data[userDataKey]);
        }
    }

    for (let dataKey in customData) {
        let dataValue = customData[dataKey].value;
        let dataTransformation = customData[dataKey].transformation;

        if (dataValue) {
            if (dataTransformation === 'trim') {
                dataValue = makeString(dataValue);
                dataValue = dataValue.trim();
            }

            if (dataTransformation === 'to_lower_case') {
                dataValue = makeString(dataValue);
                dataValue = dataValue.trim().toLowerCase();
            }

            if (dataTransformation === 'base64') {
                dataValue = makeString(dataValue);
                dataValue = toBase64(dataValue);
            }

            if (dtagLoaded && dataTransformation === 'md5') {
                dataValue = makeString(dataValue);
                dataValue = callInWindow('dataTagMD5', dataValue.trim().toLowerCase());
            }

            if (dtagLoaded && dataTransformation === 'sha256base64') {
                dataValue = makeString(dataValue);
                dataValue = callInWindow('dataTag256', dataValue.trim().toLowerCase(), 'B64');
            }

            if (dtagLoaded && dataTransformation === 'sha256hex') {
                dataValue = makeString(dataValue);
                dataValue = callInWindow('dataTag256', dataValue.trim().toLowerCase(), 'HEX');
            }

            if (customData[dataKey].store && customData[dataKey].store !== 'none') {
                dataToStore.push({
                    'store': customData[dataKey].store,
                    'name': customData[dataKey].name,
                    'value': dataValue,
                });
            }

            customData[dataKey].value = dataValue;
        }
    }

    if (dataToStore.length !== 0) {
        storeData(dataToStore);
    }

    return customData;
}

function storeData(dataToStore) {
    let dataToStoreCookieResult = {};
    let dataToStoreLocalStorageResult = {};
    let dataToStoreCookie = getCookieValues('taggrs')[0];

    if (dataToStoreCookie) {
        dataToStoreCookie = JSON.parse(dataToStoreCookie);

        if (dataToStoreCookie) {
            for (let attrName in dataToStoreCookie) {
                if (dataToStoreCookie[attrName]) dataToStoreCookieResult[attrName] = dataToStoreCookie[attrName];
            }
        }
    }

    if (localStorage) {
        let dataToStoreLocalStorage = localStorage.getItem('taggrs');

        if (dataToStoreLocalStorage) {
            dataToStoreLocalStorage = JSON.parse(dataToStoreLocalStorage);

            if (dataToStoreLocalStorage) {
                for (let attrName in dataToStoreLocalStorage) {
                    if (dataToStoreLocalStorage[attrName]) dataToStoreLocalStorageResult[attrName] = dataToStoreLocalStorage[attrName];
                }
            }
        }
    }

    for (let attrName in dataToStore) {
        if (dataToStore[attrName].value) {
            if (dataToStore[attrName].store === 'all' || dataToStore[attrName].store === 'localStorage') {
                dataToStoreLocalStorageResult[dataToStore[attrName].name] = dataToStore[attrName].value;
            }

            if (dataToStore[attrName].store === 'all' || dataToStore[attrName].store === 'cookies') {
                dataToStoreCookieResult[dataToStore[attrName].name] = dataToStore[attrName].value;
            }
        }
    }

    if (localStorage && getObjectLength(dataToStoreLocalStorageResult) !== 0) {
        localStorage.setItem('taggrs', JSON.stringify(dataToStoreLocalStorageResult));
    }

    if (getObjectLength(dataToStoreCookieResult) !== 0) {
        setCookie('taggrs', JSON.stringify(dataToStoreCookieResult), {secure: true, domain: 'auto', path: '/'});
    }
}

function getObjectLength(object) {
    let length = 0;

    for (let key in object) {
        if (object.hasOwnProperty(key)) {
            ++length;
        }
    }
    return length;
}

function determinateRequestType() {
    if (data.request_type !== 'auto') {
        return data.request_type;
    }

    if (data.add_data_layer) {
        return 'post';
    }

    if (data.dataLayerEventPush) {
        return 'post';
    }

    let customDataLength = 0;
    let userDataLength = 0;

    if (data.custom_data && data.custom_data.length) customDataLength = makeNumber(JSON.stringify(data.custom_data).length);
    if (data.user_data && data.user_data.length) userDataLength = makeNumber(JSON.stringify(data.user_data).length);

    return (customDataLength + userDataLength) > 1500 ? 'post' : 'get';
}


___WEB_PERMISSIONS___

[
  {
    "instance": {
      "key": {
        "publicId": "access_globals",
        "versionId": "1"
      },
      "param": [
        {
          "key": "keys",
          "value": {
            "type": 2,
            "listItem": [
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "key"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  },
                  {
                    "type": 1,
                    "string": "execute"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "dataLayer"
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": false
                  },
                  {
                    "type": 8,
                    "boolean": false
                  }
                ]
              },
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "key"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  },
                  {
                    "type": 1,
                    "string": "execute"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "dataTagSendData"
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  }
                ]
              },
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "key"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  },
                  {
                    "type": 1,
                    "string": "execute"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "dataTagGetData"
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  }
                ]
              },
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "key"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  },
                  {
                    "type": 1,
                    "string": "execute"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "dataTagData"
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": false
                  }
                ]
              },
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "key"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  },
                  {
                    "type": 1,
                    "string": "execute"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "dataTagMD5"
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  }
                ]
              },
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "key"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  },
                  {
                    "type": 1,
                    "string": "execute"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "dataTag256"
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  }
                ]
              }
            ]
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  },
  {
    "instance": {
      "key": {
        "publicId": "get_referrer",
        "versionId": "1"
      },
      "param": [
        {
          "key": "urlParts",
          "value": {
            "type": 1,
            "string": "any"
          }
        },
        {
          "key": "queriesAllowed",
          "value": {
            "type": 1,
            "string": "any"
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  },
  {
    "instance": {
      "key": {
        "publicId": "read_data_layer",
        "versionId": "1"
      },
      "param": [
        {
          "key": "keyPatterns",
          "value": {
            "type": 2,
            "listItem": [
              {
                "type": 1,
                "string": "gtm.uniqueEventId"
              },
              {
                "type": 1,
                "string": "gtm.start"
              }
            ]
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  },
  {
    "instance": {
      "key": {
        "publicId": "read_title",
        "versionId": "1"
      },
      "param": []
    },
    "isRequired": true
  },
  {
    "instance": {
      "key": {
        "publicId": "get_url",
        "versionId": "1"
      },
      "param": [
        {
          "key": "urlParts",
          "value": {
            "type": 1,
            "string": "any"
          }
        },
        {
          "key": "queriesAllowed",
          "value": {
            "type": 1,
            "string": "any"
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  },
  {
    "instance": {
      "key": {
        "publicId": "inject_script",
        "versionId": "1"
      },
      "param": [
        {
          "key": "urls",
          "value": {
            "type": 2,
            "listItem": [
              {
                "type": 1,
                "string": "https://app.taggrs.io/cdn/script/v5.js"
              }
            ]
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  },
  {
    "instance": {
      "key": {
        "publicId": "access_local_storage",
        "versionId": "1"
      },
      "param": [
        {
          "key": "keys",
          "value": {
            "type": 2,
            "listItem": [
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "key"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "taggrs"
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  }
                ]
              }
            ]
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  },
  {
    "instance": {
      "key": {
        "publicId": "read_character_set",
        "versionId": "1"
      },
      "param": []
    },
    "isRequired": true
  },
  {
    "instance": {
      "key": {
        "publicId": "send_pixel",
        "versionId": "1"
      },
      "param": [
        {
          "key": "allowedUrls",
          "value": {
            "type": 1,
            "string": "any"
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  },
  {
    "instance": {
      "key": {
        "publicId": "get_cookies",
        "versionId": "1"
      },
      "param": [
        {
          "key": "cookieAccess",
          "value": {
            "type": 1,
            "string": "specific"
          }
        },
        {
          "key": "cookieNames",
          "value": {
            "type": 2,
            "listItem": [
              {
                "type": 1,
                "string": "taggrs"
              }
            ]
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  },
  {
    "instance": {
      "key": {
        "publicId": "set_cookies",
        "versionId": "1"
      },
      "param": [
        {
          "key": "allowedCookies",
          "value": {
            "type": 2,
            "listItem": [
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "name"
                  },
                  {
                    "type": 1,
                    "string": "domain"
                  },
                  {
                    "type": 1,
                    "string": "path"
                  },
                  {
                    "type": 1,
                    "string": "secure"
                  },
                  {
                    "type": 1,
                    "string": "session"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "taggrs"
                  },
                  {
                    "type": 1,
                    "string": "*"
                  },
                  {
                    "type": 1,
                    "string": "*"
                  },
                  {
                    "type": 1,
                    "string": "any"
                  },
                  {
                    "type": 1,
                    "string": "any"
                  }
                ]
              }
            ]
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  },
  {
    "instance": {
      "key": {
        "publicId": "read_container_data",
        "versionId": "1"
      },
      "param": []
    },
    "isRequired": true
  }
]


___TESTS___

scenarios: []


___NOTES___

Created on 21/03/2021, 11:26:46
